# üó≥Ô∏è Ciudades DAO - Manual de Uso

## √çndice
[1.üó≥Ô∏è Descripci√≥n General](https://github.com/zenbitETH/Ciudades-DAO#descripci%C3%B3n-general)  
[2.üó∫Ô∏è Proceso General](https://github.com/zenbitETH/Ciudades-DAO#%EF%B8%8F-proceso-general)  
[3.üé© Tipos de usuario](https://github.com/zenbitETH/Ciudades-DAO#-tipos-de-usuario-y-funci%C3%B3n-principal)  
[4.üïπÔ∏è Flujo para ciudadanos y representantes de gobierno](https://github.com/zenbitETH/Ciudades-DAO#%EF%B8%8F-flujo-para-ciudadanos-y-representantes-de-gobierno)  
[5.üéÆ Flujo para representantes de organizacionees urbanas y desarrolladores](https://github.com/zenbitETH/Ciudades-DAO#-flujo-para-representantes-de-organizacionees-urbanas-y-desarrolladores)  
[6.üåê Atenci√≥n a usuarios y colaboraciones](https://github.com/zenbitETH/Ciudades-DAO#-atenci%C3%B3n-a-usuarios-y-colaboraciones)

## 1. Descripci√≥n General
Ciudades DAO es una bien publico digital desarrollado con herramientas Web3 que facilitan la descentralizaci√≥n, coordinaci√≥n y consenso de organizaciones urbanas mediante una entidad de gobernanza digital que no puede ser censurado o alterado, el cual incentiva la participaci√≥n en la gobernanza urbana para generar informaci√≥n sobre una colonia, ciudad o regi√≥n. 

## 1a Requisitos minimos:
Para usar Ciudadades DAO debes tener acceso a los siguientes dispositivos, servicios y herramientas digitales.
### Requisitos de sistema:
- Dispositivo movil, PC o Laptop
- Conexi√≥n a Internet
- Navegador Web
- Cartera Web3 (wallet)
- Conexi√≥n a Red de Pruebas Polygon Mumbai
- Gas (Matic de prueba) para transacciones
### Requisitos de usuario
Adem√°s de los requisitos de sistema, para usar Ciudades DAO deber√°s contar con estas habilidades. ¬øNi idea de que hacer? No te preocupes, continua leyendo y ser√°s recompensado al desarrollar estas habilidades usando Ciudades DAO.  

- Conocimiento o experiencia en participaci√≥n ciudadana, gobernanza o activismo urbano.
- Habilidades digitales en navegaci√≥n en internet y b√∫squeda de informaci√≥n.
- Habilidades digitales en el uso de redes sociales.
- Habilidades digitales en el uso de Google Maps
- Habilidades digiales en el uso de herramientas Web3 de Ethereum
- Habilidades digiales en el uso de herramientas Web3 de IPFS

## 1b Componentes de la aplicaci√≥n
En este repositorio de c√≥digo encontrar√°s todos los componentes necesarios para conectarte a Ciudad DAO desde tu dispositivo, o usarlo como plantilla para implementar el modelo de Gobernanza DAO en una organizaci√≥n urbana. Ciudades DAO se compone de:  
- Contrato Inteligente para "Gobernador Alfa para Ciudades DAO"
    Contrato escrito en lenguaje de programaci√≥n solidity para descentralizar la gobernanza de una ciudad u organizaci√≥n urbana mediante un gobernante digital incorruptible, transparente y que cuide de la privacidad de sus usuarios.
- Contrato Inteligente para token de Gobernanza DAO "VOTO"
    Contrato escrito en lenguaje de programaci√≥n solidity para generar activos digitales que funcionan como unidades de recompensas por el desarrollo de habilidades digitales y generaci√≥n de propuestas en Ciudades DAO y como unidad para votar esas propuestas en la gobernanza DAO.
- Interfaz de Usuarios
    Aplicaci√≥n web desarrollada con React y funciones Web3 para comunicar a los usuarios con los contratos inteligentes de Ciudades DAO.

# 2.üó∫Ô∏è Proceso general
Para usar Ciudades DAO primero deber√°s cumplir los Requisitos del Sistema para conectarte a la aplicaci√≥n p√∫blica en ciudadesdao.zenbit.mx, si no cuentas con ellos sigue este tutorial y sigue el paso a paso para tener todo listo.  

## Proceso de validaci√≥n 
Una vez que tengas los Requisitos del sistema deber√°s conectarte a la aplicaci√≥n, asi podr√°s comunicarte con el contrato Gobernador Alfa con tu cartera Web3 sin necesidad de darle ninguno de us datos personales. Una vez conectado, deber√°s validar con Gobernador Alfa que cuentas con las habilidades digitales para usar esta aplicaci√≥n. Para ello puedes seguir este tutorial donde encontrar√°s lo necesario que pasar la prueba Web3 contestando el cuestionario y comprobar que cuentas con las habilidades para usar Cuidades DAO. Por cada pregunta correcta obtendr√°s 20 tokens VOTO, por lo que si contestas las 5 preguntas correctamente podr√°s obtener hasta 100 tokens VOTO como recompensa.  

## Proceso de Gobernanza DAO  
Una vez que Gobernador Alfa haya validado que cuentas con las habilidades digitales para usar Ciudades DAO podr√°s acceder a la gobernanza para realizar y votar propuestas que resuelvan  necesidades de tu ciudad o apoyar la causa de alguna organizaci√≥n urbana. Los tokens VOTO que hayas obtenido en la validaci√≥n los podr√°s usar para votar las propuestas disponibles y por cada propuesta que realices obtendr√°s 10 VOTO adicionales. De modo cada usuario tendr√° diferente poder de voto y decisi√≥n en las propuestas, dependiendo de su proactividad y creatividad para proponer soluciones urbanas.

# 3.üé© Tipos de usuario y funci√≥n principal
Se consideran 4 tipos de usuario para Ciudades DAO los cuales se definen dependiendo de las habilidades digitales y objetivos al usar la aplicaci√≥n, se anticipa mientras menos habilidades digitales se requieran m√°s abundante ser√° el tipo de usuario, por lo que aquellos que requieren especializaci√≥n o coordinaci√≥n de grupos, ser√°n menos frecuentes.

## ü¶∏üèΩü¶∏üèª‚Äç‚ôÄÔ∏è Ciudadanos / Propuestas de gobernanza urbana
Ciudad DAO tiene origen como organizaci√≥n urbana en Quer√©taro con la funci√≥n de recopilar un sistema en web2 de datos para ciudadanos. Por lo que la mayoria de las interacciones de la aplicaci√≥n se enfocan en la experiencia de usuario para estas personas. Las habilidades requeridas para este usuario son minimas y buscan incentivar la participaci√≥n ciudadana en la resoluci√≥n de problemas urbanos a trav√©s de propuestas que pueden ser votadas por otros participantes de la aplicaci√≥n para su aceptaci√≥n y seguimiento.  

## üë©‚Äçüíºüë®‚Äçüíº Representante de gobierno / Seguimiento de propuesta
Si bien la descentralizaci√≥n que ofrece Ciudad DAO empodera la coordinaci√≥n de ciudadanos y organizaciones urbanas, no pretende generar conflicto con la administraci√≥n p√∫blica tradional, sino complementar los sistemas de participaci√≥n ciudadana y las carencias generadas por la insuficiencia del presupuesto p√∫blico en las administraciones gubernamentales de las ciudades. Para ello Ciudades DAO considera a los representantes de gobierno o servidores p√∫blicos como un rol fundamental para dar seguimiento a las propuestas realizadas en Ciudad DAO para cubrir el vacio legislativo entorno a la operaci√≥n y regulaci√≥n de Organizaciones Aut√≥nomasa Descentralizadas, tecnolog√≠as Web3 y los nuevos modelos de negocio generados entorno a bienes p√∫blicos y econom√≠a regenerativa.  

## ‚úäüåÜRepresentante de organizaci√≥n urbana / Causas  
Los representantes de organizaciones urbanas son el motor de la resoluci√≥n de problemas en las ciuades, ya que son quienes dan pasos adicionales que los ciuadanos al establecer procesos, ideas y proyectos con mayor complejidad o que en conjunto pueden tener un mayor impacto para la ciudad que los esfuerzos individuales. El esfuerzo extra tambi√©n requiere mayores habilidades para leer y escribir en javascript, solidity, HTML y CSS. Estas habilidades no son solo para producir contenido para la aplicaci√≥n original sino tambi√©n para que tomes Ciudades DAO como plantilla y puedas personalizarlo para tu ciudad o para una organizaci√≥n urbana en espec√≠fico. En el flujo de usuarios encontrar√°s informaci√≥n detallada si tu inter√©s como representan es tomar este repositorio para personalizarlo a la imagen y objetivos de la organizaci√≥n urbana que representes.

## üßëüèΩ‚Äçüíªüë©üèΩ‚Äçüíª Desarrollador / A√±adir funciones a la DAO  
Si tu inter√©s se encuentra m√°s en construir y conocer nuevas herramienas que la participaci√≥n ciudadana, tambi√©n puedes participar como Desarrollador en el proceso implementaci√≥n de Ciudads DAO y colaborar en la investigaci√≥n y desarrollo colectivos para construir nuevas aplicaciones que complementen el funcionamiento de ciudades DAO. Puedes colaborar con el desarrollo conociendo el flujo para desarrolladores o escribenos en github desde el repositorio de Ciudades DAO.

# 4.üïπÔ∏è Flujo para ciudadanos y representantes de gobierno
## 4a. Cumplir requisitos m√≠nimos
Todos los usuarios deben cumplir con los requisitos de sistema para poder interactuar o personalizar el contenido de Ciudades DAO.
## 4b. Preparaci√≥n de herramientas Web3
Para acceder a la aplicaci√≥n p√∫blica visita https://ciudadesdao.org no necesitas tus datos personales para regisrarte, en su lugar ocupar√°s ocupar√°s 3 herramientas de la Web3:  

### Cartera Web3. 
Descarga e instala una cartera Web3 en tu dispositivo m√≥vil, pc o laptop. En el proceso deber√°s escribir y guardar las 12 palabras secretas de tu direcci√≥n para que puedas recuperar tu cuenta si cambias o extravias tu equipo o bien si deseas acceder desde diferentes equipo.

ATENCI√ìN
Las 12 palabras secretas de tu cartera Web3 es el √∫nico metodo para acceder o recuperar tu cuenta, SOLO TU tienes acceso a ellas en el momento que creas tu cartera. Ni Metamask, ni Ciudades DAO, ni zenbit.eth o ning√∫n intermediario tiene acceso a las 12 palabras secretas.


### Cambiar a Red de Pruebas Polygon Mumbai.
Ya que Ciudades DAO se encuentra en fase de desarrollo, todas las transacciones ocurren en una red de pruebas p√∫blica, la cual funciona de manera similar a una red principal de blockchain con la diferencia de que los activos y herramientas no tienen valor monetario por lo que las cuotas de gas son simbolicas y tienen un enfoque didactico. En la pantalla principal de Ciudades DAO toca el boton de en medio para conectar tu cartera a la red de pruebas con mayor facilidad.

### Obtener Matic de prueba para las pagar las cuotas de gas.
Una vez en la red de pruebas, accede al tercer enlace de la pantalla principal de Ciudades DAO para ir al expendio de Matic de prueba el cual te servir√° para pagar las cuotas de gas que cambian el estado de los contratos inteligentes. Solo tendr√°s que copiar y pegar tu direcci√≥n p√∫blica en el campo de "Wallet Address", presionar el bot√≥n "Submit" y en unos cuantos segundos tu cuenta tendr√°s Matic de prueba.
  
Una vez que tengas tu cartera conectada a la red de pruebas de Polygon Mumbai y lista con Matic de prueba que obtuviste del expendio, estas listo para conectar tu cartera y empezar a usar Ciudades DAO. Conectate presionando el bot√≥n azul en la parte inferior de la pantalla principal y acepta la conexi√≥n con Ciudades DAO desde tu Cartera Web3 para desbloquear la aplicaci√≥n.

## 4c. Validar habilidades digitales para Web3
Con tu cartera conectada a Ciudades DAO ahora podr√°s ver las 3 actividades a realizar en la aplicaci√≥n: 1. Validar tu cuenta, 2. Generar propuestas y 3. Votar por las propuestas. Sin embargo notaras que la segunda y tercera est√°n bloqueadas hasta que completes la validaci√≥n de tu cuenta. Para validar tu cuenta deberas comprobarle a Gobernador Alfa que tienes las habilidades digitales para interactuar con herramientas Web3 mediante un cuestionario de 5 preguntas relacionadas con su funcionamiento.  
  
Por cada respuesta correcta obtendr√°s 20 tokens VOTO, por lo que podr√°s obtener hasta 100 tokens VOTO si contestas todas las preguntas correctamente. Los tokens VOTO que obtengas podr√°s usarlos para votar tus propuestas de gobernanza DAO o las propuestas de otros participantes. La validaci√≥n con Gobernador Alfa tendr√° duraci√≥n de 30 d√≠as a partir de la fecha de validaci√≥n,  tras este periodo deber√°s realizar la validaci√≥n de nuevo la cual puede contener diferentes preguntas seg√∫n la evoluci√≥n o enfoque de los participantes.

## 4d. Gobernanza DAO
Una vez validado se desbloquear√°n las 2 interacciones de gobernanza DAO: podras realizar propuestas de gobernanza sobre tu ciudad y tambi√©n podr√°s usar tus tokens VOTO para votar tus propuestas o las de otros participantes.

### Proponer
Para hacer una propuesta toca el bot√≥n de Proponer desde la pantalla desbloqueada de Ciudades DAO para acceder a la pantalla en la que podr√°s describir y detallar tu propuesta antes de enviarla al Gobernador Alfa para que sea votada por ti y los otros usuarios de la aplicaci√≥n. Por cada propuesta publicada recibiras 10 tokens TARO adicionales, esto ser√° valido durante las primeras 20 propuestas que realices mientras la direcci√≥n de tu cartera Web3 este validada por el Gobernador Alfa.

### Votar 
 Las propuestas realizadas estar√°n disponibles para votar durante 15 d√≠as en la secci√≥n de DAO, con el total de tokens VOTO que tengas podr√°s votar a favor o en contra de las propuestas y tr√°s los 15 d√≠as el contrato Gobernador Alfa determinar√° el resultado de la votaci√≥n dependiendo de los votos a favor y en contra que reciba la propuesta y la archivar√° en el historial de propuestas seg√∫n su resultado.

## 4e. Historial y resultados
Las propuestas en las que haya expirado el tiempo de votaci√≥n ser√°n mostradas en la secci√≥n de Propuestas Anteriores y podr√°s consultar entre las que fueron aprobadas y las que fueron rechazadas. Si bien los resultados de las votaciones de estas propuestas no son vinculantes con la legislaci√≥n municipal de las ciudades, establece un cambio de paradigma en c√≥mo se registra y almacenan los datos urbanos y c√≥mo las herramientas de la Web3 ayudan a resolver las fallas de coordinaci√≥n causadas por la centralizaci√≥n de gobiernos, servicios y bienes p√∫blicos. 
  
Para continuar con la conversaci√≥n generada por las propuestas realizadas en Ciudades DAO, te invitamos al servidor de Ciudades DAO en Discord, donde podr√°s conectar con otros ciudadanos, representantes y desarrolladores para retroalimentar ideas, comentar funcionalidades por implementar o para personalizar este repositorio e implementarlo en tu ciudad u organizaci√≥n urbana.

Tambi√©n te invitamos a consultar la rama de Ciudades DAO "VoTARO Ciudad DAO" donde encontrar√°s el ejemplo de c√≥mo los contratos y la interfaz de usuario puede ser personalizada para implementarse en una ciudad.

# 5. üéÆ Flujo para representantes de organizacionees urbanas y desarrolladores
## 5a. Dependencias
Para usar personalizar y compilar el c√≥digo de Ciudad DAO desde tu PC o laptop, deber√°s instalar en tu sistema operativo las siguientes dependencias:
```text
1. Node.js
2. Git
2. Entorno integrado de desarrollo (IDE)
3. Navegador Web
```
## 5b. Comandos para iniciar
Ejecuta estos comandos en la terminal desde la ubicaci√≥n de carpeta que eligas para descargar el repositorio de Ciudades DAO.
**2a. Descargar repositorio:**
```bash
  git clone https://github.com/zenbitETH/Ciudades-DAO
```
  
Desde la carpeta raiz de Ciudades DAO instala los paquetes y dependencias para trabajar con los contratos inteligentes y con la interfaz de usuario.
**2b. Instala paquetes y dependencias para contratos inteligentes:**
```bash
  npm install
```

**2c. Instala paquetes y dependencias para la interfaz de usuario**
```bash
  cd frontend
  npm install
```

Una vez que tengas instalados los paquetes y dependencias para los contratos inteligentes y la interfaz de usuario, deber√°s modificar y a√±adir algunos archivos para que funcione tu aplicaci√≥n.
**2d. Entorno de desarrollo b√°sico:**
```bash
  Modifica el nombre de la carpeta:
  ../Frontend/src/EjemploCuestionario
  por:
  ../Frontend/src/Cuestionario
```
Crea una cuenta en infura para acceder a un nodo conectado a la red de pruebas de Polygon Mumbai y que tu aplicaci√≥n se pueda comunicar con los contratos de Ciudades DAO desplegados en esa red.
```bash
En la carpeta raiz, ve a:
../hardhat.config.js
  
A√±ade en la linea 53 el URL del nodo de Polygon Mumbai que obtengas en infura
52 mumbai: {
53      url: "https://polygon-mumbai.infura.io/v3/numerosdetuURL",
```
## 5c. Iniciar interfaz de usuario en servidor local 
Con el entorno de desarrollo b√°sico listo, ahora debes ir a la carpeta Frontend e iniciar la compilaci√≥n de la aplicaci√≥n en un servidor local para conectarte con los contratos inteligentes de Ciudades DAO desplegados en la red de pruebas Polygon Mumbai. 

**Iniciar la interfaz de usuario:
```bash
  cd frontend
  npm start
```
A partir de este punto puedes personalizar la interfaz de usuario con los colores, textos e imagenes que tu prefieras, pero seguira conectada a los contratos de Ciudades DAO, si deseas personalizar y usar tus propios contratos, continua leyendo en el punto 4 Personalizar contratos. 


## 5d. Personalizar contrato Gobernador Alfa
Para personalizar los contratos inteligentes de Ciudades DAO deber√°s a√±adir al entorno de desarrollo de la aplicaci√≥n la llave privada de la direcci√≥n que desplegara tus conttratos inteligentes y la llave API de Polygonscan que obtienes al registrarte en ese explorador de bloques.
**4a. Entorno de desarrollo avanzado**
```bash
  Modifica el nombre del archivo en la carpeta raiz:
  ../ejemplo.env
  por:
  ../.env
  
Abre el archivo .env y a√±ade tus llaves en:
PRIVATE_KEY = 'LOS NUMEROS Y LETRAS DE TU LLAVE PRIVADA'
POLYGONSCAN_API_KEY = 'LOS NUMEROS Y LETRAS DE LA LLAVE API DE POLYGONSCAN'
```

Con el entorno de desarrollo avanzado listo ahora modifica las variables personalizables del contrato:
**4b. Ve a la carpeta de contratos y accede al archivo del contrato Gobernador Alpha:**
```bash
  ../contracts/GovernorAlpha.sol  
```

**4c Modifica el tiempo para votar propuestas**
```bash
19    function votingPeriod() public pure returns (uint) { return 1296000; } // ~15 dias en bloques (asumiendo bloques de 15 segundos) 1296000 blocks; 86400 bloques por dia; 3600 por hora)
```

**4d Modifica el n√∫mero de propuestas que dan recompensa (20 propuestas por default):**
```bash
132 if(userProposals[msg.sender].count < 20) {
```

**4e Modifica el n√∫mero de VOTO con los que se recompensan las propuestas (10 VOTO por propuesta por default):**
```bash
133 bool transferred = voto.transferFrom(address(this), msg.sender, 10e18);
```

**4f Modifica la duraci√≥n de la validaci√≥n (1 mes en bloques por default)**
```bash
171  expirationTime: block.timestamp + 2592000
```

## 5e. Personalizar contrato de token VOTO
**5a. Ve a la carpeta de contratos y accede al archivo del contrato del token VOTO:**
```bash
  ../contracts/Voto.sol  
```

**5b Personaliza el n√∫mero de tokens VOTO disponibles (1,000,000 VOTO por default):**
```bash
19  uint public constant totalSupply = 1000000e18; // 1 mill√≥n de tokens VOTO para Ciudades DAO
```

## 5f. Despliegue de contratos 
**Asegurate de tener Matic de prueba en la direcci√≥n que desplegar√° los contratos y ejecuta el siguiente comando desde la carpeta raiz para desplegar los contratos en red de pruebas Polygon Mumbai:**
```bash
  npx hardhat run scripts/deploy.js --network mumbai
```

## 5d. Publicaci√≥n de interfaz
**Personaliza la interfaz, despliega los contraos y ejectua los siguientes comandos para publicar gratuitamente tu interfaz personalizada (requiere registro con email en Surge desde la terminal)**
```bash
cd frontend
npm run build
cd build
cp index.html 200.html
surge
```

# 6. üåê Atenci√≥n a usuarios y colaboraciones
-hola@ciudadesdao.org 
-Registra un issue en este repositorio  
-Discord de ususarios Ciudades DAO  
-Discord de desarrollo zenbit.eth  
-Siguenos en redes sociales como @zenbit.eth